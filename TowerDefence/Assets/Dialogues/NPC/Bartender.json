{"inkVersion":21,"root":[["ev",{"VAR?":"player_money"},"!","/ev",[{"->":".^.b","c":true},{"b":["\n","^AssertionError: Variable player_money should be set.","\n",{"->":"0.5"},null]}],"nop","\n","ev",{"VAR?":"player_lvl"},"!","/ev",[{"->":".^.b","c":true},{"b":["\n","^AssertionError: Variable player_lvl should be set.","\n",{"->":"0.12"},null]}],"nop","\n","\n","\n",{"->":"begin"},["done",{"#f":5,"#n":"g-0"}],null],"done",{"begin":[[["ev",{"VAR?":"player_BartenderKnowledge"},0,"==","/ev",[{"->":".^.b","c":true},{"b":["^ ",{"->":"get_to_know"},{"->":".^.^.^.7"},null]}],[{"->":".^.b"},{"b":["^ ",{"->":"say_hi"},{"->":".^.^.^.7"},null]}],"nop","\n",[[["ev","visit",3,"%","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"nop",{"s0":["pop",{"->":"see_offer"},{"->":".^.^.23"},null],"s1":["pop","^ ","thread",{"->":"take_sip"},{"->":".^.^.23"},null],"s2":["pop","^ ","thread",{"->":"take_sip"},{"->":".^.^.23"},null],"#f":5}],"\n","thread",{"->":"confide"},"thread",{"->":"ask"},"ev","str","^Go away","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ ",{"->":"end"},"\n","done",{"#f":5}],"#f":5,"#n":"g-1"}],{"#f":5,"#n":"conversation"}],{"#f":5,"#n":"g-0"}],null],{"#f":1}],"end":["end",{"#f":1}],"say_hi":["^Bartender: Welcome back ","ev",{"VAR?":"player_name"},"out","/ev","^!","\n","^Player: Hi Old Ben!","\n",{"->":"begin.0.g-0.conversation"},{"#f":1}],"get_to_know":[["^Bartender: Hi there, stranger! What brings you here? They call me <b>Old</b> <b>Ben</b>, by the way. ","ev","str","^You can either.","/str","str","^#c0c0c0f0","/str",{"x()":"color","exArgs":2},"out","/ev","^ So? How did you find yourself in this decaying village?","\n","ev","str","^Mysterious","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Friendly","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["^ ","\n","^Player: I'm just travelling through. Nothing special.","\n","ev",{"VAR?":"bartender_Trust"},2,"-",{"VAR=":"bartender_Trust","re":true},"/ev",{"->":".^.^.g-0"},{"#f":5}],"c-1":["^ ","\n","^Player: I'm just passing through. I heard this place the most cozy in the vicinity.","\n","^Bartender: No way! You've heard of this dirty hovel? I'm flattered! I've been brewing it for years, you know. Do my best!","\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["ev",{"VAR?":"player_BartenderKnowledge"},5,"+",{"VAR=":"player_BartenderKnowledge","re":true},"/ev",{"->":"begin.0.g-0.conversation"},{"#f":5}]}],{"#f":1}],"ask":[["ev","str","^Investigate","/str",{"CNT?":".^.c-0.5.c-0"},"!","/ev",{"*":".^.c-0","flg":5},{"c-0":["\n","^Player: TODO","\n","^Bartender: TODO","\n",["ev","str","^Gloomy City","/str","/ev",{"*":".^.c-0","flg":20},{"c-0":["^ ","\n","^Player: What is this place?","\n","^Bartender: Basically. I really don't know. We haven't really thought about that yet.","\n","ev",{"VAR?":"player_GloomyCityKnowledge"},1,"+",{"VAR=":"player_GloomyCityKnowledge","re":true},"/ev","ev",{"VAR?":"ladyMadlen_Trust"},1,"-",{"VAR=":"ladyMadlen_Trust","re":true},"/ev",{"->":"ask.0.g-0"},{"#f":5}]}],{"#f":5}],"g-0":[{"->":"begin.0.g-0.conversation"},{"#f":5}]}],{"#f":1}],"confide":[["ev","str","^Confide","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Truth","/str",{"VAR?":"player_drunkState"},3,">","/ev",{"*":".^.c-1","flg":5},{"c-0":["^ ","\n","^Player: TODO","\n","^Bartender: TODO","\n",{"->":"begin.0.g-0.conversation"},{"#f":5}],"c-1":["^ ","\n","^Player: The truth is ... TODO","\n","^Bartender: Unbelivable! TODO","\n",{"->":"begin.0.g-0.conversation"},{"#f":5}]}],{"#f":1}],"print_barley_type":["ev",{"VAR?":"previous_drink"},{"VAR?":"BarleyTypes.two_row"},"==","/ev",[{"->":".^.b","c":true},{"b":["^ two",{"->":".^.^.^.7"},null]}],[{"->":".^.b"},{"b":["^six",{"->":".^.^.^.7"},null]}],"nop","^ row","\n",{"#f":1}],"see_offer":[[["ev",{"VAR?":"is_abstinent"},"/ev",[{"->":".^.b","c":true},{"b":["^ ",{"->":".^.^.^.^.g-1.abstinent"},{"->":".^.^.^.5"},null]}],[{"->":".^.b"},{"b":["^ Bartender: ...Wheat or barley?",{"->":".^.^.^.5"},null]}],"nop","\n","ev","str","^Wheat","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Barley","/str","/ev",{"*":".^.c-1","flg":4},"ev","str","^Whiskey","/str",{"VAR?":"TavernShop"},{"VAR?":"whiskey"},"?","/ev",{"*":".^.c-2","flg":5},"ev","str","^Lie","/str","/ev",{"*":".^.c-3","flg":4},{"c-0":["^ ","\n","^Player: Wheat please.","\n","^Bartender: Cheers!","\n","ev",{"VAR?":"player_money"},{"VAR?":"TavernShop.wheat_beer"},"LIST_VALUE","-",{"VAR=":"player_money","re":true},"/ev","\n",{"->":".^.^.^.g-1"},{"#f":5}],"c-1":["^ ","\n","^PLayer: Barley please.","\n","^Bartender: The only good option to be made. ","ev",{"VAR?":"previous_drink"},"/ev",[{"->":".^.b","c":true},{"b":["^Just like previously - ","ev",{"f()":"print_barley_type"},"out","/ev","^?",{"->":".^.^.^.10"},null]}],[{"->":".^.b"},{"b":["^Two or six row?",{"->":".^.^.^.10"},null]}],"nop","\n","ev",{"VAR?":"bartender_Trust"},1,"+",{"VAR=":"bartender_Trust","re":true},"/ev","ev",{"VAR?":"player_money"},{"VAR?":"TavernShop.barley_beer"},"LIST_VALUE","-",{"VAR=":"player_money","re":true},"/ev","\n",["ev","str","^Two","/str",{"VAR?":"previous_drink"},"!","/ev",{"*":".^.c-0","flg":21},"ev","str","^Six","/str",{"VAR?":"previous_drink"},"!","/ev",{"*":".^.c-1","flg":21},"ev","str","^Any","/str",{"VAR?":"previous_drink"},"!","/ev",{"*":".^.c-2","flg":21},"ev","str","^Yes","/str",{"VAR?":"previous_drink"},"/ev",{"*":".^.c-3","flg":5},"ev","str","^No","/str",{"VAR?":"previous_drink"},"/ev",{"*":".^.c-4","flg":5},{"c-0":["\n","^Player: Two-row please.","\n","^Bartender: Ah, the classic choice, favored by those who appreciate the full embrace of tradition and flavour. A wise decision indeed.","\n","ev",{"VAR?":"BarleyTypes.two_row"},"/ev",{"VAR=":"previous_drink","re":true},{"->":".^.^.^.^.^.g-1"},{"#f":5}],"c-1":["^ ","\n","^Player: Six-row please.","\n","^Bartender: Opting for the robust and hearty variety, are we? A preference that speaks of a bold palate and an adventurous spirit.","\n","ev",{"VAR?":"BarleyTypes.six_row"},"/ev",{"VAR=":"previous_drink","re":true},{"->":".^.^.^.^.^.g-1"},{"#f":5}],"c-2":["\n","^Player: Doesn't matter. Just beer.","\n","^Bartender: Putting your faith in the essence of the brew itself, I see. A sentiment that echoes the heart of the tavern's essence. I'll give you two-row.","\n","ev",{"VAR?":"BarleyTypes.two_row"},"/ev",{"VAR=":"previous_drink","re":true},{"->":".^.^.^.^.^.g-1"},{"#f":5}],"c-3":["^ ","\n","^Player: Yeah.","\n","^Bartender:","\n",{"->":".^.^.^.^.^.g-1"},{"#f":5}],"c-4":["^ ","\n","ev",{"VAR?":"previous_drink"},"/ev",["du","ev",{"VAR?":"BarleyTypes.two_row"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"BarleyTypes.six_row"},"/ev",{"VAR=":"previous_drink","re":true},{"->":".^.^.^.8"},null]}],["du","ev",{"VAR?":"BarleyTypes.six_row"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"BarleyTypes.two_row"},"/ev",{"VAR=":"previous_drink","re":true},{"->":".^.^.^.8"},null]}],"pop","nop","\n","^Player: Not this time.","\n","^Bartender: Okay. As you wish - ","ev",{"f()":"print_barley_type"},"out","/ev","^ barley.","\n",{"->":".^.^.^.^.^.g-1"},{"#f":5}]}],{"#f":5}],"c-2":["^ ","\n","^Player: No time to waste! Give me your special!","\n","^Bartender: Ahh yes! The finest of the finest!","\n",{"->":".^.^.^.g-1"},{"#f":5}],"c-3":["^ ","\n","^Player: ",["ev","visit",1,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"nop",{"s0":["pop","^Personally I don't drink... ",{"->":".^.^.17"},null],"s1":["pop","^I'll pass for a while",{"->":".^.^.17"},null],"#f":5}],"\n","^Bartender: Let's assume I believe You... So You tell, you're here for business?","\n","ev",true,"/ev",{"VAR=":"is_abstinent","re":true},{"->":".^.^.^.g-1"},{"#f":5}],"#f":5,"#n":"g-0"}],{"g-1":["ev",{"VAR?":"is_abstinent"},"!","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"TavernShop"},{"VAR?":"TavernShop.whiskey"},"+",{"VAR=":"TavernShop","re":true},"/ev","ev",{"VAR?":"player_drunkState"},1,"+",{"VAR=":"player_drunkState","re":true},"/ev",{"->":".^.^.^.5"},null]}],"nop","^ ",{"->":"begin"},"\n",["^Bartender: Are you still a water drinker?","\n","ev","str","^Yes","/str","/ev",{"*":".^.c-4","flg":4},"ev","str","^No","/str","/ev",{"*":".^.c-5","flg":4},{"c-4":["^ ","\n","^Player: Nothing changed.","\n",{"->":".^.^.^.^.g-2"},{"#f":5}],"c-5":["^ ","\n","^Player: I will give a try!","\n","ev",false,"/ev",{"VAR=":"is_abstinent","re":true},{"->":".^.^.^.^.g-2"},{"#f":5}],"#f":5,"#n":"abstinent"}],{"#f":5}],"g-2":[{"->":"begin.0.g-0.conversation"},{"#f":5}]}],{"#f":1}],"take_sip":[["ev","str","^Take a sip","/str",{"VAR?":"is_abstinent"},"!","/ev",{"*":".^.c-0","flg":5},{"c-0":["\n","^Player: ",["ev","visit",2,"%","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"nop",{"s0":["pop","^I love this one!",{"->":".^.^.17"},null],"s1":["pop","^Literally the best!",{"->":".^.^.17"},null],"#f":5}],"\n","^Bartender: ",["ev","visit",2,"%","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"nop",{"s0":["pop","^I am glad",{"->":".^.^.17"},null],"s1":["pop","^ Nice to hear that!",{"->":".^.^.17"},null],"#f":5}],"\n",{"->":"begin.0.g-0.conversation"},{"#f":5}]}],{"#f":1}],"color":[{"temp=":"theme"},{"temp=":"text"},"ev",{"VAR?":"text"},"/ev","~ret",{"#f":1}],"number_between":[{"temp=":"top"},{"temp=":"bottom"},{"temp=":"number"},"ev",{"VAR?":"number"},{"VAR?":"bottom"},"LIST_VALUE",">",{"VAR?":"number"},{"VAR?":"top"},"LIST_VALUE","<","&&","/ev","~ret","\n",{"#f":1}],"listWithCommas":[{"temp=":"if_empty"},{"temp=":"list"},"ev",{"VAR?":"list"},"LIST_COUNT","/ev",["du","ev",2,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"list"},"LIST_MIN","out","/ev","^ and ","ev",{"VAR?":"list"},{"VAR?":"list"},"LIST_MIN","-",{"VAR?":"if_empty"},{"f()":".^.^.^"},"out","/ev","\n",{"->":".^.^.^.10"},null]}],["du","ev",1,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"list"},"out","/ev","\n",{"->":".^.^.^.10"},null]}],["du","ev",0,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"if_empty"},"out","/ev","\n",{"->":".^.^.^.10"},null]}],[{"->":".^.b"},{"b":["pop","\n","ev",{"VAR?":"list"},"LIST_MIN","out","/ev","^, ","ev",{"VAR?":"list"},{"VAR?":"list"},"LIST_MIN","-",{"VAR?":"if_empty"},{"f()":".^.^.^"},"out","/ev","\n",{"->":".^.^.^.10"},null]}],"nop","\n",{"#f":1}],"isAre":[{"temp=":"list"},"ev",{"VAR?":"list"},"LIST_COUNT",1,"==","/ev",[{"->":".^.b","c":true},{"b":["^is",{"->":"isAre.9"},null]}],[{"->":".^.b"},{"b":["^are",{"->":"isAre.9"},null]}],"nop","\n",{"#f":1}],"came_from":[{"temp=":"x"},"ev",{"VAR?":"x"},"turns",0,"==","/ev","~ret","\n",{"#f":1}],"global decl":["ev",100,{"VAR=":"player_money"},1,{"VAR=":"player_lvl"},"str","^dupa_123","/str",{"VAR=":"player_name"},{"list":{"StateThresholds.none":0,"StateThresholds.satisfactory":5,"StateThresholds.sufficient":10,"StateThresholds.good":15,"StateThresholds.very_good":20,"StateThresholds.excellent":25}},{"VAR=":"StateThresholds"},0,{"VAR=":"player_BartenderKnowledge"},0,{"VAR=":"player_LadyMadlenKnowledge"},0,{"VAR=":"player_GloomyCityKnowledge"},0,{"VAR=":"player_drunkState"},"str","^begin","/str",{"VAR=":"Bartender_NextDialogue"},15,{"VAR=":"bartender_Trust"},"str","^begin","/str",{"VAR=":"LadyMadlen_NextDialogue"},5,{"VAR=":"ladyMadlen_Trust"},5,{"VAR=":"ladyMadlen_Sympathy"},{"list":{"TavernShop.wheat_beer":5,"TavernShop.barley_beer":8}},{"VAR=":"TavernShop"},{"list":{"BarleyTypes.two_row":0,"BarleyTypes.six_row":1}},{"VAR=":"BarleyTypes"},false,{"VAR=":"is_abstinent"},{"list":{}},{"VAR=":"previous_drink"},"/ev","end",null],"#f":1}],"listDefs":{"StateThresholds":{"none":0,"satisfactory":5,"sufficient":10,"good":15,"very_good":20,"excellent":25},"TavernShop":{"wheat_beer":5,"barley_beer":8,"whiskey":10},"BarleyTypes":{"two_row":0,"six_row":1}}}